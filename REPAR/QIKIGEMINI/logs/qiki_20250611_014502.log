2025-06-11 01:45:02,315 - qiki - INFO - Central QIKI Logger initialized to level INFO. Log file: logs/qiki_20250611_014502.log
2025-06-11 01:45:02,316 - qiki.physics - INFO - SciPy Rotation available. Full rotational physics enabled.
2025-06-11 01:45:02,637 - qiki - WARNING - Using fallback logging due to central logger initialization failure.
2025-06-11 01:45:02,638 - qiki.main - INFO - Initializing QIKI Simulation...
2025-06-11 01:45:02,638 - qiki.structural_sensors - INFO - StructuralSensors initialized.
2025-06-11 01:45:02,638 - qiki.frame_core - INFO - FrameCore 'QIKI_FrameCore' initialized with base mass 5.00 kg.
2025-06-11 01:45:02,638 - qiki.power_sensors - INFO - PowerSensors initialized.
2025-06-11 01:45:02,638 - qiki.power_systems - INFO - QIKI_PowerSystems initialized. Main Battery: 10000.0Wh, Reserve Battery: 2000.0Wh.
2025-06-11 01:45:02,638 - qiki.thermal_system - INFO - QIKI_ThermalSystem initialized. Initial Core Temp: 20.0°C, Initial Radiator Temp: 10.0°C.
2025-06-11 01:45:02,638 - qiki.physics - INFO - PhysicsObject 'QIKI_Physics' initialized with mass 38.0 kg at position [0.0, 0.0, 0.0].
2025-06-11 01:45:02,638 - qiki.agent - INFO - Agent initialized.
2025-06-11 01:45:02,638 - qiki.sensors - INFO - Sensors initialized with access to PhysicsObject, FrameCore, PowerSystems, and ThermalSystem.
2025-06-11 01:45:02,639 - qiki.environment - INFO - Environment initialized with gravity [0.0, 0.0, -9.81] and bounds {'x': (-100.0, 100.0), 'y': (-100.0, 100.0), 'z': (-100.0, 100.0)}, bot radius 0.5m.
2025-06-11 01:45:02,639 - qiki.bot_interface - INFO - BotInterface initialized.
2025-06-11 01:45:02,639 - qiki.qik_os.kernel - INFO - QikOS Kernel initialized.
2025-06-11 01:45:02,639 - qiki.qik_os.shell - INFO - QikOS Shell initialized.
2025-06-11 01:45:02,639 - qiki.qik_os - INFO - QikOS initialized.
2025-06-11 01:45:02,639 - qiki.analyzer - INFO - Analyzer initialized. Session file: data/session_20250611_014502.json
2025-06-11 01:45:02,639 - qiki.main - INFO - QIKI Simulation initialized.
2025-06-11 01:45:02,639 - qiki - INFO - Signal handlers registered for SIGINT and SIGTERM.
2025-06-11 01:45:02,640 - qiki.main - INFO - Starting QIKI Simulation main loop...
2025-06-11 01:45:02,640 - qiki.qik_os - INFO - Starting QikOS...
2025-06-11 01:45:02,640 - qiki.qik_os - INFO - QikOS started.
2025-06-11 01:45:02,640 - qiki.qik_os - INFO - QikOS main loop started.
2025-06-11 01:45:02,640 - qiki.main - CRITICAL - Critical error in simulation main loop: 'Agent' object has no attribute 'make_decision'
Traceback (most recent call last):
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 143, in run
    await self._simulation_task
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 170, in _main_loop
    await self.agent.make_decision(self.qik_os.shell) # Передаем shell агенту
          ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'make_decision'
2025-06-11 01:45:02,642 - qiki.main - INFO - Initiating graceful shutdown of QIKI Simulation...
2025-06-11 01:45:02,642 - qiki.main - INFO - Stopping QikOS...
2025-06-11 01:45:02,642 - qiki.qik_os - INFO - Stopping QikOS...
2025-06-11 01:45:02,642 - qiki.qik_os - INFO - QikOS main loop cancelled.
2025-06-11 01:45:02,642 - qiki.qik_os - INFO - QikOS main loop finished.
2025-06-11 01:45:02,742 - qiki.qik_os - INFO - QikOS stopped.
2025-06-11 01:45:02,742 - qiki.main - INFO - Closing visualizer...
2025-06-11 01:45:02,743 - qiki - CRITICAL - An unhandled error occurred during simulation execution: 'NoneType' object has no attribute 'close'
Traceback (most recent call last):
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 143, in run
    await self._simulation_task
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 170, in _main_loop
    await self.agent.make_decision(self.qik_os.shell) # Передаем shell агенту
          ^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Agent' object has no attribute 'make_decision'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 386, in main_entry_point
    await simulation.run()
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 148, in run
    await self.shutdown(exit_code=1) # Завершаем работу при критической ошибке
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/workspaces/simformat/REPAR/QIKIGEMINI/main.py", line 329, in shutdown
    self.visualizer.close()
    ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'close'
2025-06-11 01:45:02,745 - qiki - INFO - Application main loop finished. Performing final cleanup.
